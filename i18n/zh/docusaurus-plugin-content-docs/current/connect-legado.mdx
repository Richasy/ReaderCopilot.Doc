---
title: 连接到阅读
---

import setting from "./img/book-source-settings.png";
import dialog from "./img/plugin-config-dialog.png";

## 什么是阅读？

本文所指的阅读指的是两个应用：

1. [开源阅读](https://github.com/gedoor/legado)
    开源阅读是一款热门的安卓阅读应用，具备极其丰富的书源社区，深受广大网文爱好者的喜爱。
2. [阅读服务器版](https://github.com/hectorqin/reader)
    这是基于开源阅读解析器开发的服务器版本，可以托管在自己的服务器中，以实现跨平台阅读

## 为什么要连接到阅读？

阅读拥有社区提供的海量书源，不仅限于网文，还有着诸如漫画、有声书等诸多品类的书源，是中文社区免费阅读的不二选择。

网上有大量用户包括我在内，都在使用阅读。我不希望阅读助理变成一个孤岛，而是希望阅读助理能够与阅读进行数据互通，从而可以让用户在移动阅读与桌面阅读之间方便快捷的转换。

## 如何连接？

阅读助理通过书源插件的形式与阅读进行数据交互。

在某“热心网友”的帮助下，阅读助理的默认插件在 1.0.1 版本支持了与 `开源阅读` 和 `阅读服务器` 的数据交互。

:::tip
要连接到阅读，请确保你的阅读助理版本在 1.2310.3.0 以上，且 [书源插件](https://github.com/Richasy/ReaderCopilot.Public/releases) 版本在 1.2310.1.0 以上
:::

按照 [书源简介](./book-source) 中的内容导入书源后，你会在设置中看到 `插件配置` 选项。

<img src={setting} />

打开插件配置，这里有三个输入项：

<img src={dialog} width="400px" />

### 配置安卓阅读

如果你需要连接安卓的开源阅读，你需要填写 `Legado：地址`

1. 打开手机上的开源阅读应用
2. 进入 `我的`，打开 **Web 服务**
3. 成功开启后，将 Web 服务 下方的网址（如 `http://192.168.2.1:1122`）输入到 `Legado：地址` 中

点击 `确认`，就完成了安卓开源阅读的连接配置。

### 配置阅读服务器

如果你需要连接阅读服务器版，首先确保你已经部署了 [阅读服务器版](https://github.com/hectorqin/reader)，这里不会介绍如何部署。

在阅读助理中，你需要填写 `hectorqin/reader：网址` 和 `hectorqin/reader：访问令牌`

网址就是你部署的地址，但需要注意的是，服务器版的主页有一个 `#` 后缀，比如你的书架网址可能是这样：`https://xxx.xxx.com/#/`

**在填写 `hectorqin/reader：网址` 时，不要包含 `#`！ **

访问令牌的获取稍微复杂一些，因为服务器版本有多账户机制，应用需要特定于某个账户的令牌才能够正常访问该账户下的数据。

你需要在网页上登录后，按下 `F12` 打开开发者工具，切换到控制台，输入 `localStorage.api_token`，按下回车，这时候控制台会打印一个字符串出来，格式如下：

```
'你的名字:xxxxxxxxx'
```

你需要把这个字符串（不包括头尾的单引号）粘贴到 `hectorqin/reader：访问令牌` 中。

这样，你就完成了阅读服务器版的配置。

## 如何使用

在完成上面的配置后，切换到 `网文浏览` 页面，点开右上角的书源下拉框，你就可以找到标签为 `自部署` 的 **安卓阅读** 或者 **阅读服务器** 书源了，点击即可切换到该书源。

:::tip
当没有完成配置时，对应的书源不会出现在列表中。

如果你在配置前已经加载过一次书源列表，在修改配置后需要点一下刷新按钮。
:::

### 书架及查询

切换到阅读数据源后，默认显示的是你当前书架内的书籍。

当你尝试搜索时，也只会搜索你当前已经添加到书架内的书籍，而不是启动阅读自身的搜索功能。

也就是说，**搜索自己喜欢的小说需要在阅读应用内完成**。

因为阅读助理本身有自己的一套书籍管理机制，只是和阅读应用进行简单的数据同步。

所以你的操作实际上相当于在阅读助理中创建了一个快捷方式，这个快捷方式指向你正在阅读应用中看的书籍。

### 记录同步

#### 阅读助理 -> 阅读

当你在阅读助理中阅读来自 `阅读应用` 的书籍时，你的阅读记录会在每次章节切换时发送给 `阅读应用`，以此实现阅读记录的同步。

但是由于阅读助理本身不记录你具体阅读到了该章节的哪个位置，所以当记录同步后，你在 `阅读应用` 中打开对应的书籍时，你将会位于当前阅读的章节开头。

#### 阅读 -> 阅读助理

当你在阅读应用中阅读一段时间后，想在桌面上使用阅读助理继续阅读，你需要右键单击对应的书籍，在弹出的菜单中选择 `更新目录`。

应用会重新读取书籍信息，并同步你的阅读记录到本地。

:::warning
如果你没有更新，那么当书籍打开时，会使用你上一次关闭时保存的历史记录，同时也会通过 API 覆盖你的移动端或服务端记录
:::